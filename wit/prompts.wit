/// Prompts allow servers to provide structured messages and instructions for interacting with language models.
/// Clients can discover available prompts, retrieve their contents, and provide arguments to customize them.
///
/// https://modelcontextprotocol.io/specification/2025-06-18/server/prompts
interface prompts {
    use mcp-types.{mcp-error};
    use prompts-types.{list-prompts-request, list-prompts-result, get-prompt-request, get-prompt-result};
    
    /// List available prompts
    list-prompts: func(request: list-prompts-request) -> result<list-prompts-result, mcp-error>;
    
    /// Get a specific prompt
    get-prompt: func(request: get-prompt-request) -> result<get-prompt-result, mcp-error>;
}

/// Type definitions for prompts
interface prompts-types {
    use mcp-types.{message-role, content-block, base-metadata, meta-fields, cursor, progress-token};

    /// Argument definition for a prompt template
    record prompt-argument {
        /// Base metadata (name and optional title)
        base: base-metadata,
        /// Human-readable description
        description: option<string>,
        /// Whether this argument is required
        required: option<bool>,
    }

    /// Prompt template definition
    record prompt {
        /// Base metadata (name and optional title)
        base: base-metadata,
        /// Description of what this prompt does
        description: option<string>,
        /// Arguments that can be passed to the prompt
        arguments: option<list<prompt-argument>>,
        /// Extension metadata
        meta: option<meta-fields>,
    }

    /// Message in a prompt conversation
    record prompt-message {
        /// Who is speaking (user, assistant, or system)
        role: message-role,
        /// Message content
        content: content-block,
    }

    /// Request to list available prompts
    record list-prompts-request {
        /// Pagination cursor
        cursor: option<cursor>,
        /// Progress tracking token
        progress-token: option<progress-token>,
        /// Extension metadata
        meta: option<meta-fields>,
    }

    /// Response with list of prompts
    record list-prompts-result {
        /// Available prompts
        prompts: list<prompt>,
        /// Cursor for next page
        next-cursor: option<cursor>,
        /// Extension metadata
        meta: option<meta-fields>,
    }

    /// Request to get a specific prompt
    record get-prompt-request {
        /// Name of the prompt to retrieve
        name: string,
        /// Arguments for template substitution
        arguments: option<list<tuple<string, string>>>,
        /// Progress tracking token
        progress-token: option<progress-token>,
        /// Extension metadata
        meta: option<meta-fields>,
    }

    /// Response with rendered prompt messages
    record get-prompt-result {
        /// Optional description of the rendered prompt
        description: option<string>,
        /// Messages that make up the prompt
        messages: list<prompt-message>,
        /// Extension metadata
        meta: option<meta-fields>,
    }

}
